<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Syllabus Creator</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 20px;
      background-color: #ffffff;
      overflow-y: scroll;
    }
    .form-wrapper {
      width: 100%;
      max-width: 800px;
    }
  </style>
</head>
<body>

<div class="form-wrapper">
  <form method="post" action="post.php" id="myform" autocomplete="off" novalidate>
    <div class="row gx-5 align-items-start">
      <div class="col-md-2 mb-3">
        <div class="d-grid gap-2">
          <!-- <input type="button" id="load" name="load" class="btn btn-outline-secondary" value="Load"/> -->
          <input type="button" id="save" name="save" class="btn btn-outline-primary" value="Save"/>
          <input type="reset" class="btn btn-outline-secondary" value="Reset"/>
        </div>
      </div>

      <div class="col-md-10">
        <ul class="nav nav-tabs mb-3 justify-content-center" id="syllabusTabs" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="basic-tab" data-bs-toggle="tab" data-bs-target="#divbasic" type="button">Basic</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="obj-tab" data-bs-toggle="tab" data-bs-target="#divobj" type="button">Objectives</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="source-tab" data-bs-toggle="tab" data-bs-target="#divsource" type="button">Sources</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="assess-tab" data-bs-toggle="tab" data-bs-target="#divassess" type="button">Assessment</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="outcome-tab" data-bs-toggle="tab" data-bs-target="#divoutcome" type="button">Outcomes</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="contrib-tab" data-bs-toggle="tab" data-bs-target="#divcontrib" type="button">Contributions</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="ects-tab" data-bs-toggle="tab" data-bs-target="#divects" type="button">ECTS</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="contents-tab" data-bs-toggle="tab" data-bs-target="#divcontents" type="button">Contents</button>
          </li>
        </ul>

        <div class="tab-content">
          <div class="tab-pane fade show active" id="divbasic"><div id="basic-placeholder"></div></div>
          <div class="tab-pane fade" id="divobj"><div id="objectives-placeholder"></div></div>
          <div class="tab-pane fade" id="divsource"><div id="source-placeholder"></div></div>
          <div class="tab-pane fade" id="divassess"><div id="assess-placeholder"></div></div>
          <div class="tab-pane fade" id="divoutcome"><div id="outcome-placeholder"></div></div>
          <div class="tab-pane fade" id="divcontrib"><div id="contrib-placeholder"></div></div>
          <div class="tab-pane fade" id="divects"><div id="ects-placeholder"></div></div>
          <div class="tab-pane fade" id="divcontents"><div id="contents-placeholder"></div></div>
        </div>
      </div>
    </div>

    <input type="hidden" name="coursecode" id="coursecode" value="">
  </form>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="tab.js"></script>
<script src="contrib.js"></script>
<script src="saveload.js"></script>
<script>
  const loadTabContent = (id, file, callback) => {
    fetch(file)
      .then(res => res.text())
      .then(html => {
        document.getElementById(id).innerHTML = html;
        if (callback) callback();
      });
  };

  loadTabContent('basic-placeholder', 'basic.html');
  loadTabContent('objectives-placeholder', 'objectives.html');
  loadTabContent('source-placeholder', 'sources.html');
  loadTabContent('assess-placeholder', 'assess.html');
  loadTabContent('outcome-placeholder', 'outcome.html');
  loadTabContent('ects-placeholder', 'ects.html');
  loadTabContent('contents-placeholder', 'contents.html');
  loadTabContent('contrib-placeholder', 'contrib.html', () => { initContribTab(); });
</script>

</body>
</html>
