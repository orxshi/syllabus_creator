<div class="p-2">

  <!-- Tooltip -->
  <div class="mb-2">
    <span class="tooltip-span" title="Contribution level:
1: Very low
2: Low
3: Moderate
4: High
5: Very high">
      Help
    </span>
  </div>

  <!-- Department Selection -->
  <div class="mb-3">
    <select id="departmentSelect" class="form-select form-select-sm">
      <option value="" disabled selected>Select a department</option>
      <option value="fc">Faculty common</option>
      <option value="me">Mechanical Engineering</option>
      <option value="een">Electrical & Electronic Engineering</option>
      <option value="cven">Civil Engineering</option>
      <option value="cen">Computer Engineering</option>
      <option value="ene">Energy Systems Engineering</option>
      <option value="qs">Quantity Surveying</option>
      <option value="ae">Automotive Engineering</option>
    </select>
  </div>

  <!-- Contributions Table -->
  <table id="tabcontrib" class="table table-sm mb-0 align-middle">
    <colgroup>
      <col style="width:5%;">
      <col style="width:75%;">
      <col style="width:20%;">
    </colgroup>
    <thead class="border-bottom-0">
      <tr>
        <th class="text-center">#</th>
        <th class="text-start">Program Learning Outcome (PLO)</th>
        <th class="text-center">Contribution</th>
      </tr>
    </thead>
    <tbody id="contribBody">
      <!-- PLO rows will be loaded dynamically -->
      <!-- Example of a dynamically loaded row -->
      <!--
      <tr>
        <td class="text-center">1</td>
        <td>PLO description here</td>
        <td class="text-center">
          <input type="number" class="spinner-only contribution" min="1" max="5" value="1">
        </td>
      </tr>
      -->
    </tbody>
  </table>

</div>

<script>
  // If rows are loaded dynamically, ensure each contribution input uses spinner-only with min/max
  const contribBody = document.getElementById('contribBody');

  const observer = new MutationObserver(() => {
    const inputs = contribBody.querySelectorAll('input.contribution');
    inputs.forEach(input => {
      input.type = 'number';
      input.classList.add('spinner-only');
      input.min = 1;
      input.max = 5;
      if (!input.value) input.value = 1;
    });
  });

  observer.observe(contribBody, { childList: true, subtree: true });
</script>
